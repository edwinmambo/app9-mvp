<header class="navbar navbar-expand-lg shadow-sm">
  <div class="container">
    <a routerLink="/" class="navbar-brand d-flex align-items-center">
      <i class="bi bi-book-half fs-4 me-2 text-primary"></i>
      <span class="fw-bold">app9</span>
    </a>

    <div class="d-flex align-items-center mx-auto">
      <ul class="nav nav-pills">
        <li class="nav-item"><a routerLink="/home" routerLinkActive="active" class="nav-link px-3">Home</a></li>
        <li class="nav-item"><a routerLink="/dashboard" routerLinkActive="active" class="nav-link px-3">Dashboard</a></li>
        <li class="nav-item"><a routerLink="/explore" routerLinkActive="active" class="nav-link px-3">Explore</a></li>
        <li class="nav-item"><a routerLink="/chatbot" routerLinkActive="active" class="nav-link px-3">Message</a></li>
      </ul>
    </div>

    <div class="d-flex align-items-center">
      <a href="#" class="me-3">
        <i class="bi bi-search fs-5"></i>
      </a>
      <a href="#" class="me-3">
        <i class="bi bi-bell fs-5"></i>
      </a>
      
      <ng-container *ngIf="!(authService.currentUser$ | async); else userLoggedIn">
        <a routerLink="/auth/login" class="btn btn-outline-primary me-2">Sign In</a>
        <a routerLink="/auth/register" class="btn btn-primary">Create Account</a>
      </ng-container>

      <ng-template #userLoggedIn>
        <div class="dropdown">
          <a href="#" class="d-flex align-items-center text-decoration-none dropdown-toggle"
            data-bs-toggle="dropdown" aria-expanded="false">
            <img src="/assets/images/default-avatar.jpg" alt="User avatar" class="avatar me-2" width="32" height="32">
          </a>
          <ul class="dropdown-menu dropdown-menu-end shadow">
            <li><a class="dropdown-item" routerLink="/dashboard">Dashboard</a></li>
            <li><a class="dropdown-item" routerLink="/dashboard/profile">Profile</a></li>
            <li><a class="dropdown-item" routerLink="/dashboard/saved">Saved Content</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#" (click)="logout($event)">Sign out</a></li>
          </ul>
        </div>
      </ng-template>
    </div>
  </div>
</header>

<main>
  <router-outlet />
</main>
